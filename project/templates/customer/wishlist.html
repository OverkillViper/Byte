{% extends 'customer/index.html' %}
{% load static %}
{% block content %}

<form action="/customer/wishlist" method="POST" class="flex items-center w-1/3 mx-auto mt-6">
    {% csrf_token %}
    <input type="text" name="search" id="search" class="form-input me-2" placeholder="Search in wishlist">
    <button type="submit" class="bg-quarternary text-gray-400 hover:text-white transition p-3 rounded-md">
        <svg class="w-4 h-4" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
            <path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="m21 21-3.5-3.5M17 10a7 7 0 1 1-14 0 7 7 0 0 1 14 0Z"/>
        </svg>              
    </button>
</form>

<div class="px-8 py-4 gap-4">
    {% if wishlists %}
        {% for item in wishlists %}
            <div class="hover:bg-quarternary flex p-3 rounded-md items-center attribute">
                <a href="/product/details/{{ item.product.id }}">
                    <img src="{{ item.product.first_gallery.image.url }}" class="w-20 aspect-square rounded-md">
                </a>
                <a class="ms-4 flex-grow" href="/product/details/{{ item.product.id }}">
                    <div class="text-white font-primary">{{ item.product.name }}</div>
                    <div class="text-gray-400 font-normal">{{ item.product.category }}</div>
                    <div class="text-gray-400 font-normal">à§³ {{ item.product.discounted_price|floatformat:0 }}</div>
                </a>
                <a href="/customer/remove-from-wishlist/{{ item.product.id }}" class="flex items-center text-sm text-white link-button px-4 py-2 rounded-md options shadow-md">
                    <svg class="w-4 h-4" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m15 9-6 6m0-6 6 6m6-3a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"/>
                    </svg>
                    <span class="ms-2 uppercase font-normal">Remove</span>                   
                </a>
            </div>
            <hr class="border border-quarternary">
        {% endfor %}
    {% else %}
        <div class="mx-auto col-span-5 text-gray-400 font-normal">There is currently no product in your wishlist</div>
    {% endif %}
</div>


{% endblock %}